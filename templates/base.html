<!--
スーパークラス用のhtmlテンプレート
左側のメインメニューを引き継ぐ
  -->
{% load static %}

<!DOCTYPE html>
<html>
<head lang="ja">
  <link rel="stylesheet" type="text/css" href="{% static 'css/base.css' %}">
  <link href='/static/lib/main.css' rel='stylesheet' />
<script src='/static/lib/main.js'></script>
<script>

  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');

    var calendar = new FullCalendar.Calendar(calendarEl, {
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay,listMonth'
      },
      initialDate: '2020-09-12',
      navLinks: true, // can click day/week names to navigate views
      businessHours: true, // display business hours
      editable: true,
      selectable: true,
      events: [
        {
          title: '<a href="localhost:8000/index?id=2">あいうえお</a>',
          start: '2020-09-03T13:00:00',
          constraint: 'businessHours'
        },
        {
          title: 'Meeting',
          start: '2020-09-13T11:00:00',
          constraint: 'availableForMeeting', // defined below
          color: '#257e4a'
        },
        {
          title: 'Conference',
          start: '2020-09-18',
          end: '2020-09-20'
        },
        {
          title: 'Party',
          start: '2020-09-29T20:00:00'
        },

        // areas where "Meeting" must be dropped
        {
          groupId: 'availableForMeeting',
          start: '2020-09-11T10:00:00',
          end: '2020-09-11T16:00:00',
          display: 'background'
        },
        {
          groupId: 'availableForMeeting',
          start: '2020-09-13T10:00:00',
          end: '2020-09-13T16:00:00',
          display: 'background'
        },

        // red areas where no events can be dropped
        {
          start: '2020-09-24',
          end: '2020-09-28',
          overlap: false,
          display: 'background',
          color: '#ff9f89'
        },
        {
          start: '2020-09-06',
          end: '2020-09-08',
          overlap: false,
          display: 'background',
          color: '#ff9f89'
        }
        
      ],
      eventRender: function(event, element) {
      element.find(".fc-event-time").append(" " + event.eventDeleteLink);
    }
    });

    calendar.render();
  });

</script>
<style>
</style>
  <meta charset="UTF-8">
  <title>リクマネ 就活タスク管理</title>
</head>
<body>
  <div id="main">
   {% block box1 %}
    <div id="box1">
      <h1 id="maintitle"><a href="{% url 'rikumane_app:index' %}">リクマネ</a></h1>
      <!--<h2 id="subtitle">Recuruit<br>Management</h2>-->
      <div id="conpanylink">
        <ul>
          <li>
           <!-- モーダル画面を開くボタン -->
            <div id="open" class="button">
              <button>企業新規登録</button>
            </div>
            <!-- グレーの透過マスク -->
            <div id="mask" class="hidden"></div>
            <!-- モーダル画面 -->
            <div id="modal" class="hidden">
              <p class="modal_title">企業登録</p>
              <form action="" method="post">
                {% csrf_token %}
                <p class="item_name">企業名<input class="modal_input" type="text" name="CompanyName" size="35" placeholder="企業名"></p>
                <p class="item_name">mypage URL<input class="modal_input" type="text" name="URL" size="35" placeholder="mypage URL"></p>
                <p class="item_name">mypage ID<input class="modal_input" type="text" name="LoginId" size="35" placeholder="mypage ID"></p>
                <p class="item_name">カテゴリ<input class="modal_input" type="text" name="category" size="35" placeholder="カテゴリ　例：SIer 金融"></p>
                <p class="shiboudo_name">志望度</p>
                <div class="shiboudo">
                  <input id="1" type="radio" name="want" value="1" />
                  <label for="1">★</label>
                  <input id="2" type="radio" name="want" value="2" />
                  <label for="2">★</label>
                  <input id="3" type="radio" name="want" value="3" />
                  <label for="3">★</label>
                  <input id="4" type="radio" name="want" value="4" />
                  <label for="4">★</label>
                  <input id="5" type="radio" name="want" value="5" />
                  <label for="5">★</label>
                </div>
                <input type="hidden" name="action" value="add_company">
                <input class="modal_button_size" type="submit" value="新規登録">
              </form>
              <!-- モーダル画面を閉じるボタン -->
              <div id="close" class="button">
                <button class="modal_button_size">画面を閉じる</button>
              </div>
            </div>
            {% for one in data%}
              <p><a class="company_name" href="{% url 'rikumane_app:index' %}?id={{one.id}}">{{ one.CompanyName }}</a></p>
              {% block company_edit%}
              {% endblock %}
              {% block box2 %}
              {% endblock %}
            {% endfor %}
            
            <!-- アカウント編集 -->
            {%block content%}
              
            {%endblock%}
            <!-- アカウントメニュー -->
            <div id="account-menu">

            </div>
            <li><a href="{% url 'rikumane_app:calendar'%}">カレンダー表示に戻る</a>
            <li><a href="#">プロフィール画面</a>
            <li><a href="{% url 'rikumane_app:top'%}?logout=true">ログアウト</a>
          </li>
        </ul>
      </div>
    </div>
    <div id="box3">
      {% block box3 %}
      
      {% endblock %}
    </div>
   {% endblock %}
</body>
<!--JS読み込み用-->
{% block script %}
{% endblock %}
<script src="{% static 'js/user_define.js' %}"></script>
</html>